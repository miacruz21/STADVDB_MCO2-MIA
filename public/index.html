<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Database</title>
</head>
<body>
    <h1>Game Database</h1>
    <form id="gameForm">
        <input type="text" id="AppID" placeholder="AppID" required>
        <input type="text" id="Name" placeholder="Game Name" required>
        <input type="date" id="Release_date" placeholder="Release Date" required>
        <input type="number" id="Required_age" placeholder="Required Age" required>
        <input type="number" id="Price" placeholder="Price" required>
        <input type="number" id="Estimated_owners_min" placeholder="Estimated Owners Min" required>
        <input type="number" id="Estimated_owners_max" placeholder="Estimated Owners Max" required>
        <input type="number" id="DLC_count" placeholder="DLC Count" required>
        <input type="number" id="Achievements" placeholder="Achievements" required>
        <textarea id="About_the_game" placeholder="About the Game"></textarea>
        <textarea id="Notes" placeholder="Notes"></textarea>
        <textarea id="Reviews" placeholder="Reviews"></textarea>
        <input type="text" id="Metacritic_score" placeholder="Metacritic Score">
        <input type="text" id="Metacritic_url" placeholder="Metacritic URL">
        <input type="number" id="Positive_reviews" placeholder="Positive Reviews">
        <input type="number" id="Negative_reviews" placeholder="Negative Reviews">
        <button type="submit">Add Game</button>
    </form>
    <div id="gameList"></div>
    <script>
        document.getElementById('gameForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const gameData = {
                AppID: document.getElementById('AppID').value,
                Name: document.getElementById('Name').value,
                Release_date: document.getElementById('Release_date').value,
                Required_age: document.getElementById('Required_age').value,
                Price: document.getElementById('Price').value,
                Estimated_owners_min: document.getElementById('Estimated_owners_min').value,
                Estimated_owners_max: document.getElementById('Estimated_owners_max').value,
                DLC_count: document.getElementById('DLC_count').value,
                Achievements: document.getElementById('Achievements').value,
                About_the_game: document.getElementById('About_the_game').value,
                Notes: document.getElementById('Notes').value,
                Reviews: document.getElementById('Reviews').value,
                Metacritic_score: document.getElementById('Metacritic_score').value,
                Metacritic_url: document.getElementById('Metacritic_url').value,
                Positive_reviews: document.getElementById('Positive_reviews').value,
                Negative_reviews: document.getElementById('Negative_reviews').value,
            };

            fetch('/api/games', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(gameData),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                // Optionally refresh the game list here
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>